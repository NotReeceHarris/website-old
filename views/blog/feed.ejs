<div class="grid gap-8 md:gap-12 md:gap-y-14 md:grid-cols-2 xl:grid-cols-3">
<% for(var i=0; i<articles.data.length; i++) {%>

    <article class="flex flex-col <% if (i!=0) { %> border-[#444] border-t-[1px] pt-8 md:pt-0 md:border-none  <% } %>">
        <div class="grow">
            <a href="/blog/<%= articles.data[i].attributes.slug %>">
                <div class="flex justify-between items-center mb-5 text-gray-500">
                    <span class="text-sm text-white"><time pubdate datetime="<%= new Date(articles.data[i].attributes.publishedAt).getFullYear() %>-<%= new Date(articles.data[i].attributes.publishedAt).getMonth() + 1%>-<%= new Date(articles.data[i].attributes.publishedAt).getDate() %>" title="<%= new Date(articles.data[i].attributes.publishedAt).toLocaleString('en-US', { month: 'short' }) %> <%= new Date(articles.data[i].attributes.publishedAt).getDate() %>, <%= new Date(articles.data[i].attributes.publishedAt).getFullYear() %>"><%= new Date(articles.data[i].attributes.publishedAt).toLocaleString('en-US', { month: 'long' }) %> <%= new Date(articles.data[i].attributes.publishedAt).getDate() + (new Date(articles.data[i].attributes.publishedAt).getDate() > 0 ? ['th', 'st', 'nd', 'rd'][(new Date(articles.data[i].attributes.publishedAt).getDate() > 3 && new Date(articles.data[i].attributes.publishedAt).getDate() < 21) || new Date(articles.data[i].attributes.publishedAt).getDate() % 10 > 3 ? 0 : new Date(articles.data[i].attributes.publishedAt).getDate() % 10] : '') %>, <%= new Date(articles.data[i].attributes.publishedAt).getFullYear() %></time></span>
                    <span class="text-sm text-white"><script>document.write(moment('<%= articles.data[i].attributes.publishedAt %>').fromNow())</script></span>
                </div>
                <img class="hidden sm:block mb-5 h-[8rem] w-auto object-contain" src="https://cms.reeceharris.net<%= articles.data[i].attributes.banner.data.attributes.url %>" title="<%= articles.data[i].attributes.banner.data.attributes.alternativeText %>" alt="<%= articles.data[i].attributes.banner.data.attributes.alternativeText %>" width="<%= articles.data[i].attributes.banner.data.attributes.width %>" height="<%= articles.data[i].attributes.banner.data.attributes.height %>" >
                
                <h2 class="mb-2 text-2xl font-bold tracking-tight text-white"><%= articles.data[i].attributes.title %></h2>
            </a>
            <div class="flex gap-x-2 mb-2 flex-wrap">
                <% for(var t=0; t<articles.data[i].attributes.topics.data.length; t++) {%>
                    <a href="/topic/<%= articles.data[i].attributes.topics.data[t].attributes.slug %>" class=" text-white underline decoration-[<%= articles.data[i].attributes.topics.data[t].attributes.color %>]">
                        #<%= articles.data[i].attributes.topics.data[t].attributes.title %>
                    </a>
                <% } %>
            </div>
            <a href="/blog/<%= articles.data[i].attributes.slug %>">
                <p class="mb-5 font-light text-white"><%= articles.data[i].attributes.description %></p>
            </a>
        </div>
        
        <div class="flex justify-between items-center">
            <a href="/blog/<%= articles.data[i].attributes.slug %>" class="inline-flex items-center font-medium text-white hover:underline">
                Read more
                <svg class="ml-2 w-4 h-4" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
            </a>
        </div>
        
    </article> 

<% } %>
</div>